/*首先输入一个5 * 5的数组，然后输入一行，这一行有四个数，前两个代表操作类型，后两个数x y代表需操作数据为以x y为左上角的那几个数据。 操作类型有四种：  1 2 表示：90度，顺时针，翻转4个数  1 3 表示：90度，顺时针，翻转9个数  2 2 表示：90度，逆时针，翻转4个数  2 3 表示：90度，逆时针，翻转9个数 */
#include <stdio.h>
#include <stdlib.h>
int main(){
	int a[5][5];
	for(int i=0;i<5;i++)
		for(int j=0;j<5;j++)
			scanf("%d",&a[i][j]);
	int b[4];
	for(int i=0;i<4;i++)
		scanf("%d",&b[i]);
	b[2]--,b[3]--;
	if(1==b[0]){
		if(2==b[1]){
			int c[4];
			c[0]=a[b[2]][b[3]];
			c[1]=a[b[2]][b[3]+1];
			c[2]=a[b[2]+1][b[3]];
			c[3]=a[b[2]+1][b[3]+1];
			a[b[2]][b[3]]=c[2];
			a[b[2]][b[3]+1]=c[0];
			a[b[2]+1][b[3]]=c[3];
			a[b[2]+1][b[3]+1]=c[1];
		}else{
			int c[8];	
			c[0]=a[b[2]][b[3]];
			c[1]=a[b[2]][b[3]+1];
			c[2]=a[b[2]][b[3]+2];
			c[3]=a[b[2]+1][b[3]];
			c[4]=a[b[2]+1][b[3]+2];
			c[5]=a[b[2]+2][b[3]];
			c[6]=a[b[2]+2][b[3]+1];
			c[7]=a[b[2]+2][b[3]+2];
			a[b[2]][b[3]]=c[5];
			a[b[2]][b[3]+1]=c[3];
			a[b[2]][b[3]+2]=c[0];
			a[b[2]+1][b[3]]=c[6];
			a[b[2]+1][b[3]+2]=c[1];
			a[b[2]+2][b[3]]=c[7];
			a[b[2]+2][b[3]+1]=c[4];
			a[b[2]+2][b[3]+2]=c[2];
			}
		}else{
		if(2==b[1]){
			int c[4];
			c[0]=a[b[2]][b[3]];
			c[1]=a[b[2]][b[3]+1];
			c[2]=a[b[2]+1][b[3]];
			c[3]=a[b[2]+1][b[3]+1];
			a[b[2]][b[3]]=c[1];
			a[b[2]][b[3]+1]=c[3];
			a[b[2]+1][b[3]]=c[0];
			a[b[2]+1][b[3]+1]=c[2];
				}else{
			int c[8];
			c[0]=a[b[2]][b[3]];
			c[1]=a[b[2]][b[3]+1];
			c[2]=a[b[2]][b[3]+2];
			c[3]=a[b[2]+1][b[3]];
			c[4]=a[b[2]+1][b[3]+2];
			c[5]=a[b[2]+2][b[3]];
			c[6]=a[b[2]+2][b[3]+1];
			c[7]=a[b[2]+2][b[3]+2];
			a[b[2]][b[3]]=c[2];
			a[b[2]][b[3]+1]=c[4];
			a[b[2]][b[3]+2]=c[7];
			a[b[2]+1][b[3]]=c[1];
			a[b[2]+1][b[3]+2]=c[6];
			a[b[2]+2][b[3]]=c[0];
			a[b[2]+2][b[3]+1]=c[3];
			a[b[2]+2][b[3]+2]=c[5];
			}
		}
	for(int i=0;i<5;i++){
		for(int j=0;j<5;j++)
			if(4!=j)
				printf("%d ",a[i][j]);
			else
				printf("%d",a[i][j]);
		if(4!=i)
		printf("\n");
		}
	return 0;
}